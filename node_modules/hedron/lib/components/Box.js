"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _templateObject = _taggedTemplateLiteral(["\n  box-sizing: border-box;\n  display: ", ";\n  flex-direction: column;\n  overflow: auto;\n  ", ";\n  ", "\n  ", "\n  ", "\n  ", "\n"], ["\n  box-sizing: border-box;\n  display: ", ";\n  flex-direction: column;\n  overflow: auto;\n  ", ";\n  ", "\n  ", "\n  ", "\n  ", "\n"]);

var _styledComponents = require("styled-components");

var _styledComponents2 = _interopRequireDefault(_styledComponents);

var _LayoutProvider = require("./LayoutProvider");

var _utils = require("../utils");

var _styles = require("../utils/styles");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _taggedTemplateLiteral(strings, raw) { return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }

var applyWidth = function applyWidth(rule, value) {
  var defaultValue = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';

  switch (typeof value === "undefined" ? "undefined" : _typeof(value)) {
    case 'string':
      return rule + ": " + value + ";";
    case 'object':
      return Object.keys(value).map(function (key) {
        return (0, _utils.breakpoint)(key, function (props, name) {
          return rule + ": " + value[key] + ";";
        });
      });
    default:
      return defaultValue;
  }
};

var compute = function compute(name) {
  return (0, _utils.breakpoint)(name, function (props, name) {
    return [(0, _utils.applyBreakpointStyle)('width', props.width, name), (0, _utils.applyBreakpointStyle)('height', props.height, name), (0, _utils.applyBreakpointStyle)('margin-left', props.shift, name), (0, _utils.applyBreakpointStyle)('flex-grow', props.grow, name, { on: 1, off: 0 }), (0, _utils.applyBreakpointStyle)('flex-shrink', props.shrink, name, { on: 1, off: 0 }), (0, _utils.applyBreakpointStyle)('flex', props.flex, name), (0, _utils.applyBreakpointStyle)('padding', props.gutter, name), (0, _utils.applyBreakpointStyle)('padding', props.fluid, name, { on: '0', off: props.gutter })];
  });
};

var Box = _styledComponents2.default.div(_templateObject, function (props) {
  return props.noFlex ? "block" : "flex";
}, function (props) {
  return (0, _styles.applyStyle)(props.debug && props.debug.enabled, ['background: rgba(0, 0, 100, .15)', 'outline: 1px solid #fff']);
}, compute("xs"), compute("sm"), compute("md"), compute("lg"));

Box.defaultProps = {
  shrink: true
};

exports.default = (0, _LayoutProvider.withLayout)(Box);